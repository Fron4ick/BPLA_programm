<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Список книг Warhammer</title>
    <link rel="stylesheet" href="krasota.css">
    <link rel="icon" href="glav.png" type="image/png">
</head>
<body>

    <header>
        <h1>Хронология книг Warhammer</h1>
    </header>

    <div class="book-list">
        <!-- Здесь будут динамически добавляться книги -->
    </div>

    <script>
        const books = [
                books: [
                    { title: 'Инквизитор Эйзенхорн', series: 'личный цикл', author: 'Dan Abnett', year: 2007, file: 'https://drive.google.com/uc?export=download&id=1p36hjYoCTZWnOXhsW-wHj0KMTOEXpnmG' }
                ]
            {
                group: 'История Императора и начало Великого крестового похода',
                books: [
                    { title: 'Мастера человечества', series: 'Ересь Хоруса', author: 'Aaron Dembski-Bowden', year: 2016, file: 'https://drive.google.com/uc?export=download&id=1CixIt0RCPe11WtfAyWQ9AnKVRAruPFZ6' }
                ]
            },
            {
                group: 'История примархов до Ереси (можно читать параллельно с основными книгами Ереси)',
                books: [
                    { title: 'Лемон Рус: Король Волков', series: 'Примархи', author: 'Chris Wraight', year: 2017, file: 'https://drive.google.com/uc?export=download&id=1rDuyn-5ne89OQagAgw9xv9NLiKD9l69s' },
                    { title: 'Робут Гийоман: Сын Ультрамара', series: 'Примархи', author: 'David Annandale', year: 2016, file: 'https://drive.google.com/uc?export=download&id=1uKmjYad0i2pZVssDo9VRiYeVRglo0hNJ' },
                    { title: 'Альфарий: Откровения', series: 'Примархи', author: 'Mike Brooks', year: 2021, file: 'https://drive.google.com/uc?export=download&id=1El2HxqIN0TEuoOWMCGIIgIYSkLOglHbd' },
                    { title: 'Лоргар: Носитель слова', series: 'Примархи', author: 'Gav Thorpe', year: 2017, file: 'https://drive.google.com/uc?export=download&id=1aXASrBL4i766mF6CVJ6F71TIE59TfA-R' },
                    { title: 'Конрад Керз: Ночной Призрак', series: 'Примархи', author: 'Guy Haley', year: 2019, file: 'https://drive.google.com/uc?export=download&id=1LnpR4qMqWPMepD4M1zN3woXGU4FoT_sz' },
                    { title: '× Феррус Манус: Молот и Кузница', series: 'Примархи', author: 'David Guymer', year: 2020, file: 'файл' },
                    { title: '× Вулкан: Богоубийца', series: 'Примархи', author: 'David Annandale', year: 2018, file: 'файл' }
                ]
            },
            {
                group: 'Начало Ереси Хоруса',
                books: [
                    { title: 'Возвышение Хоруса', series: 'Ересь Хоруса', author: 'Dan Abnett', year: 2006, file: 'https://drive.google.com/uc?export=download&id=1b0NLq7pV98l3Ddr7z6ame66Ms3AXf4jr' },
                    { title: 'Лживые боги', series: 'Ересь Хоруса', author: 'Graham McNeill', year: 2006, file: 'https://drive.google.com/uc?export=download&id=1fUMxnyxiHJCXw54MCLc5yblHNH2mCAet' },
                    { title: 'Галактика в огне', series: 'Ересь Хоруса', author: 'Ben Counter', year: 2006, file: 'https://drive.google.com/uc?export=download&id=1W0uDY54tmG3S-V8yF3Epzla2IFQd_y9C' }
                ]
            },
            {
                group: 'Параллельно с событиями Великого крестового похода и Ереси:',
                books: [
                    { title: 'Фулгрим. Палатинский Феникс', series: 'Примархи', author: 'Josh Reynolds', year: 2018, file: 'файл' },
                    { title: 'Ангрон: Жажда крови', series: 'Примархи', author: 'Ian St. Martin', year: 2019, file: 'файл' }
                ]
            }
            // Можно продолжить добавлять группы и книги здесь
        ];

        const bookList = document.querySelector('.book-list');

        books.forEach((group, index) => {
            // Создаём контейнер для группы
            const groupContainer = document.createElement('div');
            groupContainer.classList.add('group-container');

            // Создаём контейнер заголовка группы с иконкой
            const groupTitleContainer = document.createElement('div');
            groupTitleContainer.classList.add('group-title-container');

            // Создаём иконку (door.png по умолчанию)
            const toggleIcon = document.createElement('img');
            toggleIcon.src = 'door.png';
            toggleIcon.classList.add('toggle-icon');
            toggleIcon.alt = 'Свернуть/развернуть';
            toggleIcon.addEventListener('click', () => {
                const bookGroup = document.querySelector(`.book-group-${index}`);
                bookGroup.classList.toggle('hidden');
                
                // Меняем иконку в зависимости от состояния
                if (bookGroup.classList.contains('hidden')) {
                    toggleIcon.src = 'door.png'; // Иконка закрытой группы
                } else {
                    toggleIcon.src = 'dooru.png'; // Иконка открытой группы
                }
            });

            // Заголовок группы
            const groupTitle = document.createElement('h2');
            groupTitle.textContent = group.group;

            // Добавляем иконку и заголовок в контейнер
            groupTitleContainer.appendChild(toggleIcon);
            groupTitleContainer.appendChild(groupTitle);
            groupContainer.appendChild(groupTitleContainer);
            bookList.appendChild(groupContainer);

            // Добавляем книги группы, все группы изначально скрыты
            const bookGroup = document.createElement('div');
            bookGroup.classList.add(`book-group-${index}`, 'hidden');
            group.books.forEach(book => {
                const bookItem = document.createElement('div');
                bookItem.classList.add('book-item');
                
                const downloadLink = document.createElement('a');
                downloadLink.href = book.file; // Теперь это прямая ссылка на файл с Google Диска
                downloadLink.download = true;
                
                const downloadIcon = document.createElement('img');
                downloadIcon.src = 'skach.gif';
                downloadIcon.classList.add('download-icon');
                downloadIcon.alt = 'Скачать';
                
                downloadLink.appendChild(downloadIcon);
                bookItem.appendChild(downloadLink);
                
                const bookInfo = document.createElement('div');
                bookInfo.classList.add('book-info');
                
                const bookTitle = document.createElement('h2');
                bookTitle.textContent = book.title;
                bookInfo.appendChild(bookTitle);
                
                const bookDetails = document.createElement('p');
                bookDetails.textContent = `Серия: ${book.series} — ${book.author} (${book.year})`;
                bookInfo.appendChild(bookDetails);
                
                bookItem.appendChild(bookInfo);
                bookGroup.appendChild(bookItem);
            });
            groupContainer.appendChild(bookGroup);
        });
    </script>

</body>
</html>
